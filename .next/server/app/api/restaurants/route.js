"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/restaurants/route";
exports.ids = ["app/api/restaurants/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frestaurants%2Froute&page=%2Fapi%2Frestaurants%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frestaurants%2Froute.ts&appDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frestaurants%2Froute&page=%2Fapi%2Frestaurants%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frestaurants%2Froute.ts&appDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _media_sym_LUCENT_2T_code_CascadeProjects_windsurf_project_lowdine_src_app_api_restaurants_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/restaurants/route.ts */ \"(rsc)/./src/app/api/restaurants/route.ts\");\n\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst AppRouteRouteModule = next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule;\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/restaurants/route\",\n        pathname: \"/api/restaurants\",\n        filename: \"route\",\n        bundlePath: \"app/api/restaurants/route\"\n    },\n    resolvedPagePath: \"/media/sym/LUCENT-2T/code/CascadeProjects/windsurf-project/lowdine/src/app/api/restaurants/route.ts\",\n    nextConfigOutput,\n    userland: _media_sym_LUCENT_2T_code_CascadeProjects_windsurf_project_lowdine_src_app_api_restaurants_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/restaurants/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZXN0YXVyYW50cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcmVzdGF1cmFudHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZyZXN0YXVyYW50cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZtZWRpYSUyRnN5bSUyRkxVQ0VOVC0yVCUyRmNvZGUlMkZDYXNjYWRlUHJvamVjdHMlMkZ3aW5kc3VyZi1wcm9qZWN0JTJGbG93ZGluZSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGbWVkaWElMkZzeW0lMkZMVUNFTlQtMlQlMkZjb2RlJTJGQ2FzY2FkZVByb2plY3RzJTJGd2luZHN1cmYtcHJvamVjdCUyRmxvd2RpbmUmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDaEQ7QUFDMEY7QUFDM0I7QUFDL0Q7QUFDZ0k7QUFDaEksNEJBQTRCLGdIQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sb3dkaW5lLz9lNjg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIm5leHQvZGlzdC9zZXJ2ZXIvbm9kZS1wb2x5ZmlsbC1oZWFkZXJzXCI7XG4vLyBAdHMtaWdub3JlIHRoaXMgbmVlZCB0byBiZSBpbXBvcnRlZCBmcm9tIG5leHQvZGlzdCB0byBiZSBleHRlcm5hbFxuaW1wb3J0ICogYXMgbW9kdWxlIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gcmVwbGFjZWQgYnkgd2VicGFjay90dXJib3BhY2sgbG9hZGVyXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL21lZGlhL3N5bS9MVUNFTlQtMlQvY29kZS9DYXNjYWRlUHJvamVjdHMvd2luZHN1cmYtcHJvamVjdC9sb3dkaW5lL3NyYy9hcHAvYXBpL3Jlc3RhdXJhbnRzL3JvdXRlLnRzXCI7XG5jb25zdCBBcHBSb3V0ZVJvdXRlTW9kdWxlID0gbW9kdWxlLkFwcFJvdXRlUm91dGVNb2R1bGU7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9yZXN0YXVyYW50cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Jlc3RhdXJhbnRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yZXN0YXVyYW50cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9tZWRpYS9zeW0vTFVDRU5ULTJUL2NvZGUvQ2FzY2FkZVByb2plY3RzL3dpbmRzdXJmLXByb2plY3QvbG93ZGluZS9zcmMvYXBwL2FwaS9yZXN0YXVyYW50cy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9yZXN0YXVyYW50cy9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frestaurants%2Froute&page=%2Fapi%2Frestaurants%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frestaurants%2Froute.ts&appDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/restaurants/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/restaurants/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\nconst dynamic = \"force-dynamic\";\nfunction toRad(v) {\n    return v * Math.PI / 180;\n}\nfunction haversineMiles(lat1, lon1, lat2, lon2) {\n    const R = 3958.8;\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) ** 2 + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n}\nasync function geocode(text) {\n    const url = new URL(\"https://nominatim.openstreetmap.org/search\");\n    url.searchParams.set(\"q\", text);\n    url.searchParams.set(\"format\", \"json\");\n    url.searchParams.set(\"limit\", \"1\");\n    const controller = new AbortController();\n    const to = setTimeout(()=>controller.abort(), 10000);\n    const res = await fetch(url.toString(), {\n        headers: {\n            \"User-Agent\": \"Lowdine/1.0 (contact: example@example.com)\"\n        },\n        cache: \"no-store\",\n        signal: controller.signal,\n        next: {\n            revalidate: 0\n        }\n    }).finally(()=>clearTimeout(to));\n    if (!res.ok) return null;\n    const data = await res.json();\n    if (!Array.isArray(data) || data.length === 0) return null;\n    const item = data[0];\n    return {\n        lat: parseFloat(item.lat),\n        lon: parseFloat(item.lon),\n        display_name: item.display_name\n    };\n}\nasync function overpassRestaurants(lat, lon, radiusMeters, amenities, opts) {\n    const am = amenities.join(\"|\");\n    const cuisineInclude = opts?.includeCuisineRegex ? ` [\"cuisine\"~\"(${opts.includeCuisineRegex})\", i]` : \"\";\n    const cuisineExclude = opts?.excludeCuisineRegex ? ` [\"cuisine\"!~\"(${opts.excludeCuisineRegex})\", i]` : \"\";\n    const nameExclude = opts?.excludeNameRegex ? ` [\"name\"!~\"(${opts.excludeNameRegex})\", i]` : \"\";\n    const dietFilter = opts?.diet === \"vegan\" ? ` [\"diet:vegan\"=\"yes\"]` : opts?.diet === \"vegetarian\" ? ` [\"diet:vegetarian\"=\"yes\"]` : \"\";\n    const common = `[\"amenity\"~\"^(${am})$\"]${cuisineInclude}${cuisineExclude}${nameExclude}${dietFilter}`;\n    const query = `\n    [out:json][timeout:30];\n    (\n      node${common}(around:${radiusMeters},${lat},${lon});\n      way${common}(around:${radiusMeters},${lat},${lon});\n      relation${common}(around:${radiusMeters},${lat},${lon});\n    );\n    out center tags 80;\n  `;\n    const endpoints = [\n        \"https://overpass-api.de/api/interpreter\",\n        \"https://overpass.kumi.systems/api/interpreter\",\n        \"https://overpass.openstreetmap.ru/api/interpreter\"\n    ];\n    let data = null;\n    for (const ep of endpoints){\n        try {\n            const controller = new AbortController();\n            const to = setTimeout(()=>controller.abort(), 12000);\n            const res = await fetch(ep, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\n                    \"User-Agent\": \"Lowdine/1.0 (contact: example@example.com)\"\n                },\n                body: new URLSearchParams({\n                    data: query\n                }).toString(),\n                cache: \"no-store\",\n                signal: controller.signal,\n                next: {\n                    revalidate: 0\n                }\n            }).finally(()=>clearTimeout(to));\n            if (!res.ok) continue;\n            data = await res.json();\n            break;\n        } catch (e) {\n        // try next mirror\n        }\n    }\n    if (!data) return [];\n    if (!data || !Array.isArray(data.elements)) return [];\n    const out = data.elements.map((el)=>{\n        const center = el.type === \"node\" ? {\n            lat: el.lat,\n            lon: el.lon\n        } : el.center || {};\n        const tags = el.tags || {};\n        return {\n            id: el.id,\n            name: tags.name || \"Unnamed Restaurant\",\n            address: [\n                tags[\"addr:housenumber\"],\n                tags[\"addr:street\"],\n                tags[\"addr:city\"]\n            ].filter(Boolean).join(\" \"),\n            cuisine: tags.cuisine || \"Various\",\n            lat: center.lat,\n            lon: center.lon\n        };\n    }).filter((r)=>r.lat && r.lon);\n    return out;\n}\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const { queryText, coords, radiusMeters = 2000, meal = \"dinner\" } = body || {};\n        let origin = null;\n        if (coords && typeof coords.lat === \"number\" && typeof coords.lon === \"number\") {\n            origin = {\n                lat: coords.lat,\n                lon: coords.lon\n            };\n        } else if (typeof queryText === \"string\" && queryText.trim().length > 0) {\n            const g = await geocode(queryText.trim());\n            if (!g) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Location not found\"\n            }, {\n                status: 404\n            });\n            origin = {\n                lat: g.lat,\n                lon: g.lon,\n                label: g.display_name\n            };\n        } else {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing location\"\n            }, {\n                status: 400\n            });\n        }\n        // Decide amenity/filters by meal\n        // dinner/lunch: restaurants, fast_food, pub\n        // snack: cafes, bakeries, ice_cream\n        // coffee: cafe, coffee_shop\n        // breakfast: restaurant, cafe, fast_food\n        // dessert: ice_cream, cafe, bakery\n        // drinks: bar, pub, biergarten\n        // pizza: restaurant, fast_food with cuisine=pizza\n        // vegan/vegetarian: restaurant, cafe with diet tag\n        let amenities = [\n            \"restaurant\",\n            \"fast_food\",\n            \"pub\"\n        ];\n        let opts;\n        switch(meal){\n            case \"snack\":\n                amenities = [\n                    \"cafe\",\n                    \"bakery\",\n                    \"ice_cream\"\n                ];\n                break;\n            case \"coffee\":\n                amenities = [\n                    \"cafe\",\n                    \"coffee_shop\"\n                ];\n                break;\n            case \"breakfast\":\n                amenities = [\n                    \"restaurant\",\n                    \"cafe\",\n                    \"fast_food\"\n                ];\n                opts = {\n                    excludeCuisineRegex: \"pizza\",\n                    excludeNameRegex: \"Domino\"\n                };\n                break;\n            case \"dessert\":\n                amenities = [\n                    \"ice_cream\",\n                    \"cafe\",\n                    \"bakery\"\n                ];\n                break;\n            case \"drinks\":\n                amenities = [\n                    \"bar\",\n                    \"pub\",\n                    \"biergarten\"\n                ];\n                break;\n            case \"pizza\":\n                amenities = [\n                    \"restaurant\",\n                    \"fast_food\"\n                ];\n                opts = {\n                    includeCuisineRegex: \"pizza\"\n                };\n                break;\n            case \"vegan\":\n                amenities = [\n                    \"restaurant\",\n                    \"cafe\"\n                ];\n                opts = {\n                    diet: \"vegan\"\n                };\n                break;\n            case \"vegetarian\":\n                amenities = [\n                    \"restaurant\",\n                    \"cafe\"\n                ];\n                opts = {\n                    diet: \"vegetarian\"\n                };\n                break;\n            case \"dinner\":\n            case \"lunch\":\n            default:\n                amenities = [\n                    \"restaurant\",\n                    \"fast_food\",\n                    \"pub\"\n                ];\n                break;\n        }\n        const listings = await overpassRestaurants(origin.lat, origin.lon, radiusMeters, amenities, opts);\n        const filtered = listings.filter((r)=>{\n            const nm = (r.name || \"\").trim();\n            if (!nm) return false;\n            if (/^unnamed/i.test(nm)) return false;\n            return true;\n        });\n        const withDistance = filtered.map((r)=>{\n            const miles = haversineMiles(origin.lat, origin.lon, r.lat, r.lon);\n            return {\n                id: r.id,\n                name: r.name,\n                address: r.address || \"Nearby\",\n                cuisine: r.cuisine,\n                distance: `${miles.toFixed(1)} miles`,\n                lat: r.lat,\n                lon: r.lon\n            };\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            origin,\n            restaurants: withDistance\n        }, {\n            headers: {\n                \"Cache-Control\": \"no-store, max-age=0\"\n            }\n        });\n    } catch (e) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Server error\"\n        }, {\n            status: 500,\n            headers: {\n                \"Cache-Control\": \"no-store, max-age=0\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9yZXN0YXVyYW50cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7QUFDakQsTUFBTUMsVUFBVSxnQkFBZ0I7QUFFdkMsU0FBU0MsTUFBTUMsQ0FBUztJQUN0QixPQUFPLElBQUtDLEtBQUtDLEVBQUUsR0FBSTtBQUN6QjtBQUVBLFNBQVNDLGVBQWVDLElBQVksRUFBRUMsSUFBWSxFQUFFQyxJQUFZLEVBQUVDLElBQVk7SUFDNUUsTUFBTUMsSUFBSTtJQUNWLE1BQU1DLE9BQU9WLE1BQU1PLE9BQU9GO0lBQzFCLE1BQU1NLE9BQU9YLE1BQU1RLE9BQU9GO0lBQzFCLE1BQU1NLElBQUlWLEtBQUtXLEdBQUcsQ0FBQ0gsT0FBTyxNQUFNLElBQUlSLEtBQUtZLEdBQUcsQ0FBQ2QsTUFBTUssU0FBU0gsS0FBS1ksR0FBRyxDQUFDZCxNQUFNTyxTQUFTTCxLQUFLVyxHQUFHLENBQUNGLE9BQU8sTUFBTTtJQUMxRyxNQUFNSSxJQUFJLElBQUliLEtBQUtjLEtBQUssQ0FBQ2QsS0FBS2UsSUFBSSxDQUFDTCxJQUFJVixLQUFLZSxJQUFJLENBQUMsSUFBSUw7SUFDckQsT0FBT0gsSUFBSU07QUFDYjtBQUVBLGVBQWVHLFFBQVFDLElBQVk7SUFDakMsTUFBTUMsTUFBTSxJQUFJQyxJQUFJO0lBQ3BCRCxJQUFJRSxZQUFZLENBQUNDLEdBQUcsQ0FBQyxLQUFLSjtJQUMxQkMsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsVUFBVTtJQUMvQkgsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsU0FBUztJQUU5QixNQUFNQyxhQUFhLElBQUlDO0lBQ3ZCLE1BQU1DLEtBQUtDLFdBQVcsSUFBTUgsV0FBV0ksS0FBSyxJQUFJO0lBQ2hELE1BQU1DLE1BQU0sTUFBTUMsTUFBTVYsSUFBSVcsUUFBUSxJQUFJO1FBQ3RDQyxTQUFTO1lBQ1AsY0FBYztRQUNoQjtRQUNBQyxPQUFPO1FBQ1BDLFFBQVFWLFdBQVdVLE1BQU07UUFDekJDLE1B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YSxHQUNwQztZQUFFckUsU0FBUztnQkFBRSxpQkFBaUI7WUFBc0I7UUFBRTtJQUUxRCxFQUFFLE9BQU91QyxHQUFHO1FBQ1YsT0FBT3pFLGtGQUFZQSxDQUFDMkMsSUFBSSxDQUN0QjtZQUFFcUQsT0FBTztRQUFlLEdBQ3hCO1lBQUVDLFFBQVE7WUFBSy9ELFNBQVM7Z0JBQUUsaUJBQWlCO1lBQXNCO1FBQUU7SUFFdkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xvd2RpbmUvLi9zcmMvYXBwL2FwaS9yZXN0YXVyYW50cy9yb3V0ZS50cz9jZGIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJztcblxuZnVuY3Rpb24gdG9SYWQodjogbnVtYmVyKSB7XG4gIHJldHVybiAodiAqIE1hdGguUEkpIC8gMTgwO1xufVxuXG5mdW5jdGlvbiBoYXZlcnNpbmVNaWxlcyhsYXQxOiBudW1iZXIsIGxvbjE6IG51bWJlciwgbGF0MjogbnVtYmVyLCBsb24yOiBudW1iZXIpIHtcbiAgY29uc3QgUiA9IDM5NTguODtcbiAgY29uc3QgZExhdCA9IHRvUmFkKGxhdDIgLSBsYXQxKTtcbiAgY29uc3QgZExvbiA9IHRvUmFkKGxvbjIgLSBsb24xKTtcbiAgY29uc3QgYSA9IE1hdGguc2luKGRMYXQgLyAyKSAqKiAyICsgTWF0aC5jb3ModG9SYWQobGF0MSkpICogTWF0aC5jb3ModG9SYWQobGF0MikpICogTWF0aC5zaW4oZExvbiAvIDIpICoqIDI7XG4gIGNvbnN0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xuICByZXR1cm4gUiAqIGM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdlb2NvZGUodGV4dDogc3RyaW5nKSB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwoJ2h0dHBzOi8vbm9taW5hdGltLm9wZW5zdHJlZXRtYXAub3JnL3NlYXJjaCcpO1xuICB1cmwuc2VhcmNoUGFyYW1zLnNldCgncScsIHRleHQpO1xuICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZm9ybWF0JywgJ2pzb24nKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2xpbWl0JywgJzEnKTtcblxuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBjb25zdCB0byA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCAxMDAwMCk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybC50b1N0cmluZygpLCB7XG4gICAgaGVhZGVyczoge1xuICAgICAgJ1VzZXItQWdlbnQnOiAnTG93ZGluZS8xLjAgKGNvbnRhY3Q6IGV4YW1wbGVAZXhhbXBsZS5jb20pJ1xuICAgIH0sXG4gICAgY2FjaGU6ICduby1zdG9yZScsXG4gICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICBuZXh0OiB7IHJldmFsaWRhdGU6IDAgfSxcbiAgfSkuZmluYWxseSgoKSA9PiBjbGVhclRpbWVvdXQodG8pKTtcbiAgaWYgKCFyZXMub2spIHJldHVybiBudWxsO1xuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpIHx8IGRhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgaXRlbSA9IGRhdGFbMF07XG4gIHJldHVybiB7IGxhdDogcGFyc2VGbG9hdChpdGVtLmxhdCksIGxvbjogcGFyc2VGbG9hdChpdGVtLmxvbiksIGRpc3BsYXlfbmFtZTogaXRlbS5kaXNwbGF5X25hbWUgYXMgc3RyaW5nIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG92ZXJwYXNzUmVzdGF1cmFudHMoXG4gIGxhdDogbnVtYmVyLFxuICBsb246IG51bWJlcixcbiAgcmFkaXVzTWV0ZXJzOiBudW1iZXIsXG4gIGFtZW5pdGllczogc3RyaW5nW10sXG4gIG9wdHM/OiB7IGluY2x1ZGVDdWlzaW5lUmVnZXg/OiBzdHJpbmc7IGV4Y2x1ZGVDdWlzaW5lUmVnZXg/OiBzdHJpbmc7IGV4Y2x1ZGVOYW1lUmVnZXg/OiBzdHJpbmc7IGRpZXQ/OiAndmVnYW4nIHwgJ3ZlZ2V0YXJpYW4nIH1cbikge1xuICBjb25zdCBhbSA9IGFtZW5pdGllcy5qb2luKCd8Jyk7XG4gIGNvbnN0IGN1aXNpbmVJbmNsdWRlID0gb3B0cz8uaW5jbHVkZUN1aXNpbmVSZWdleCA/IGAgW1wiY3Vpc2luZVwiflwiKCR7b3B0cy5pbmNsdWRlQ3Vpc2luZVJlZ2V4fSlcIiwgaV1gIDogJyc7XG4gIGNvbnN0IGN1aXNpbmVFeGNsdWRlID0gb3B0cz8uZXhjbHVkZUN1aXNpbmVSZWdleCA/IGAgW1wiY3Vpc2luZVwiIX5cIigke29wdHMuZXhjbHVkZUN1aXNpbmVSZWdleH0pXCIsIGldYCA6ICcnO1xuICBjb25zdCBuYW1lRXhjbHVkZSA9IG9wdHM/LmV4Y2x1ZGVOYW1lUmVnZXggPyBgIFtcIm5hbWVcIiF+XCIoJHtvcHRzLmV4Y2x1ZGVOYW1lUmVnZXh9KVwiLCBpXWAgOiAnJztcbiAgY29uc3QgZGlldEZpbHRlciA9IG9wdHM/LmRpZXQgPT09ICd2ZWdhbidcbiAgICA/IGAgW1wiZGlldDp2ZWdhblwiPVwieWVzXCJdYFxuICAgIDogb3B0cz8uZGlldCA9PT0gJ3ZlZ2V0YXJpYW4nXG4gICAgPyBgIFtcImRpZXQ6dmVnZXRhcmlhblwiPVwieWVzXCJdYFxuICAgIDogJyc7XG4gIGNvbnN0IGNvbW1vbiA9IGBbXCJhbWVuaXR5XCJ+XCJeKCR7YW19KSRcIl0ke2N1aXNpbmVJbmNsdWRlfSR7Y3Vpc2luZUV4Y2x1ZGV9JHtuYW1lRXhjbHVkZX0ke2RpZXRGaWx0ZXJ9YDtcbiAgY29uc3QgcXVlcnkgPSBgXG4gICAgW291dDpqc29uXVt0aW1lb3V0OjMwXTtcbiAgICAoXG4gICAgICBub2RlJHtjb21tb259KGFyb3VuZDoke3JhZGl1c01ldGVyc30sJHtsYXR9LCR7bG9ufSk7XG4gICAgICB3YXkke2NvbW1vbn0oYXJvdW5kOiR7cmFkaXVzTWV0ZXJzfSwke2xhdH0sJHtsb259KTtcbiAgICAgIHJlbGF0aW9uJHtjb21tb259KGFyb3VuZDoke3JhZGl1c01ldGVyc30sJHtsYXR9LCR7bG9ufSk7XG4gICAgKTtcbiAgICBvdXQgY2VudGVyIHRhZ3MgODA7XG4gIGA7XG4gIGNvbnN0IGVuZHBvaW50cyA9IFtcbiAgICAnaHR0cHM6Ly9vdmVycGFzcy1hcGkuZGUvYXBpL2ludGVycHJldGVyJyxcbiAgICAnaHR0cHM6Ly9vdmVycGFzcy5rdW1pLnN5c3RlbXMvYXBpL2ludGVycHJldGVyJyxcbiAgICAnaHR0cHM6Ly9vdmVycGFzcy5vcGVuc3RyZWV0bWFwLnJ1L2FwaS9pbnRlcnByZXRlcidcbiAgXTtcbiAgbGV0IGRhdGE6IGFueSA9IG51bGw7XG4gIGZvciAoY29uc3QgZXAgb2YgZW5kcG9pbnRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBjb25zdCB0byA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCAxMjAwMCk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChlcCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICAnVXNlci1BZ2VudCc6ICdMb3dkaW5lLzEuMCAoY29udGFjdDogZXhhbXBsZUBleGFtcGxlLmNvbSknXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBkYXRhOiBxdWVyeSB9KS50b1N0cmluZygpLFxuICAgICAgICBjYWNoZTogJ25vLXN0b3JlJyxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgbmV4dDogeyByZXZhbGlkYXRlOiAwIH0sXG4gICAgICB9KS5maW5hbGx5KCgpID0+IGNsZWFyVGltZW91dCh0bykpO1xuICAgICAgaWYgKCFyZXMub2spIGNvbnRpbnVlO1xuICAgICAgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBicmVhaztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyB0cnkgbmV4dCBtaXJyb3JcbiAgICB9XG4gIH1cbiAgaWYgKCFkYXRhKSByZXR1cm4gW107XG4gIGlmICghZGF0YSB8fCAhQXJyYXkuaXNBcnJheShkYXRhLmVsZW1lbnRzKSkgcmV0dXJuIFtdO1xuICBjb25zdCBvdXQgPSBkYXRhLmVsZW1lbnRzLm1hcCgoZWw6IGFueSkgPT4ge1xuICAgIGNvbnN0IGNlbnRlciA9IGVsLnR5cGUgPT09ICdub2RlJyA/IHsgbGF0OiBlbC5sYXQsIGxvbjogZWwubG9uIH0gOiAoZWwuY2VudGVyIHx8IHt9KTtcbiAgICBjb25zdCB0YWdzID0gZWwudGFncyB8fCB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGVsLmlkLFxuICAgICAgbmFtZTogdGFncy5uYW1lIHx8ICdVbm5hbWVkIFJlc3RhdXJhbnQnLFxuICAgICAgYWRkcmVzczogW3RhZ3NbJ2FkZHI6aG91c2VudW1iZXInXSwgdGFnc1snYWRkcjpzdHJlZXQnXSwgdGFnc1snYWRkcjpjaXR5J11dLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyksXG4gICAgICBjdWlzaW5lOiB0YWdzLmN1aXNpbmUgfHwgJ1ZhcmlvdXMnLFxuICAgICAgbGF0OiBjZW50ZXIubGF0LFxuICAgICAgbG9uOiBjZW50ZXIubG9uLFxuICAgIH07XG4gIH0pLmZpbHRlcigocjogYW55KSA9PiByLmxhdCAmJiByLmxvbik7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICBjb25zdCB7IHF1ZXJ5VGV4dCwgY29vcmRzLCByYWRpdXNNZXRlcnMgPSAyMDAwLCBtZWFsID0gJ2Rpbm5lcicgfSA9IGJvZHkgfHwge307XG5cbiAgICBsZXQgb3JpZ2luOiB7IGxhdDogbnVtYmVyOyBsb246IG51bWJlcjsgbGFiZWw/OiBzdHJpbmcgfSB8IG51bGwgPSBudWxsO1xuXG4gICAgaWYgKGNvb3JkcyAmJiB0eXBlb2YgY29vcmRzLmxhdCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvb3Jkcy5sb24gPT09ICdudW1iZXInKSB7XG4gICAgICBvcmlnaW4gPSB7IGxhdDogY29vcmRzLmxhdCwgbG9uOiBjb29yZHMubG9uIH07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnlUZXh0ID09PSAnc3RyaW5nJyAmJiBxdWVyeVRleHQudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGcgPSBhd2FpdCBnZW9jb2RlKHF1ZXJ5VGV4dC50cmltKCkpO1xuICAgICAgaWYgKCFnKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0xvY2F0aW9uIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICAgIG9yaWdpbiA9IHsgbGF0OiBnLmxhdCwgbG9uOiBnLmxvbiwgbGFiZWw6IGcuZGlzcGxheV9uYW1lIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyBsb2NhdGlvbicgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBEZWNpZGUgYW1lbml0eS9maWx0ZXJzIGJ5IG1lYWxcbiAgICAvLyBkaW5uZXIvbHVuY2g6IHJlc3RhdXJhbnRzLCBmYXN0X2Zvb2QsIHB1YlxuICAgIC8vIHNuYWNrOiBjYWZlcywgYmFrZXJpZXMsIGljZV9jcmVhbVxuICAgIC8vIGNvZmZlZTogY2FmZSwgY29mZmVlX3Nob3BcbiAgICAvLyBicmVha2Zhc3Q6IHJlc3RhdXJhbnQsIGNhZmUsIGZhc3RfZm9vZFxuICAgIC8vIGRlc3NlcnQ6IGljZV9jcmVhbSwgY2FmZSwgYmFrZXJ5XG4gICAgLy8gZHJpbmtzOiBiYXIsIHB1YiwgYmllcmdhcnRlblxuICAgIC8vIHBpenphOiByZXN0YXVyYW50LCBmYXN0X2Zvb2Qgd2l0aCBjdWlzaW5lPXBpenphXG4gICAgLy8gdmVnYW4vdmVnZXRhcmlhbjogcmVzdGF1cmFudCwgY2FmZSB3aXRoIGRpZXQgdGFnXG4gICAgbGV0IGFtZW5pdGllczogc3RyaW5nW10gPSBbJ3Jlc3RhdXJhbnQnLCAnZmFzdF9mb29kJywgJ3B1YiddO1xuICAgIGxldCBvcHRzOiB7IGluY2x1ZGVDdWlzaW5lUmVnZXg/OiBzdHJpbmc7IGV4Y2x1ZGVDdWlzaW5lUmVnZXg/OiBzdHJpbmc7IGV4Y2x1ZGVOYW1lUmVnZXg/OiBzdHJpbmc7IGRpZXQ/OiAndmVnYW4nIHwgJ3ZlZ2V0YXJpYW4nIH0gfCB1bmRlZmluZWQ7XG4gICAgc3dpdGNoIChtZWFsKSB7XG4gICAgICBjYXNlICdzbmFjayc6XG4gICAgICAgIGFtZW5pdGllcyA9IFsnY2FmZScsICdiYWtlcnknLCAnaWNlX2NyZWFtJ107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY29mZmVlJzpcbiAgICAgICAgYW1lbml0aWVzID0gWydjYWZlJywgJ2NvZmZlZV9zaG9wJ107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYnJlYWtmYXN0JzpcbiAgICAgICAgYW1lbml0aWVzID0gWydyZXN0YXVyYW50JywgJ2NhZmUnLCAnZmFzdF9mb29kJ107XG4gICAgICAgIG9wdHMgPSB7IGV4Y2x1ZGVDdWlzaW5lUmVnZXg6ICdwaXp6YScsIGV4Y2x1ZGVOYW1lUmVnZXg6ICdEb21pbm8nIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGVzc2VydCc6XG4gICAgICAgIGFtZW5pdGllcyA9IFsnaWNlX2NyZWFtJywgJ2NhZmUnLCAnYmFrZXJ5J107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZHJpbmtzJzpcbiAgICAgICAgYW1lbml0aWVzID0gWydiYXInLCAncHViJywgJ2JpZXJnYXJ0ZW4nXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwaXp6YSc6XG4gICAgICAgIGFtZW5pdGllcyA9IFsncmVzdGF1cmFudCcsICdmYXN0X2Zvb2QnXTtcbiAgICAgICAgb3B0cyA9IHsgaW5jbHVkZUN1aXNpbmVSZWdleDogJ3BpenphJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZlZ2FuJzpcbiAgICAgICAgYW1lbml0aWVzID0gWydyZXN0YXVyYW50JywgJ2NhZmUnXTtcbiAgICAgICAgb3B0cyA9IHsgZGlldDogJ3ZlZ2FuJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZlZ2V0YXJpYW4nOlxuICAgICAgICBhbWVuaXRpZXMgPSBbJ3Jlc3RhdXJhbnQnLCAnY2FmZSddO1xuICAgICAgICBvcHRzID0geyBkaWV0OiAndmVnZXRhcmlhbicgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaW5uZXInOlxuICAgICAgY2FzZSAnbHVuY2gnOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYW1lbml0aWVzID0gWydyZXN0YXVyYW50JywgJ2Zhc3RfZm9vZCcsICdwdWInXTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGluZ3MgPSBhd2FpdCBvdmVycGFzc1Jlc3RhdXJhbnRzKG9yaWdpbi5sYXQsIG9yaWdpbi5sb24sIHJhZGl1c01ldGVycywgYW1lbml0aWVzLCBvcHRzKTtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGxpc3RpbmdzLmZpbHRlcigocjogYW55KSA9PiB7XG4gICAgICBjb25zdCBubSA9IChyLm5hbWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghbm0pIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICgvXnVubmFtZWQvaS50ZXN0KG5tKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgY29uc3Qgd2l0aERpc3RhbmNlID0gZmlsdGVyZWQubWFwKChyOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG1pbGVzID0gaGF2ZXJzaW5lTWlsZXMob3JpZ2luIS5sYXQsIG9yaWdpbiEubG9uLCByLmxhdCwgci5sb24pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHIuaWQsXG4gICAgICAgIG5hbWU6IHIubmFtZSxcbiAgICAgICAgYWRkcmVzczogci5hZGRyZXNzIHx8ICdOZWFyYnknLFxuICAgICAgICBjdWlzaW5lOiByLmN1aXNpbmUsXG4gICAgICAgIGRpc3RhbmNlOiBgJHttaWxlcy50b0ZpeGVkKDEpfSBtaWxlc2AsXG4gICAgICAgIGxhdDogci5sYXQsXG4gICAgICAgIGxvbjogci5sb24sXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBvcmlnaW4sIHJlc3RhdXJhbnRzOiB3aXRoRGlzdGFuY2UgfSxcbiAgICAgIHsgaGVhZGVyczogeyAnQ2FjaGUtQ29udHJvbCc6ICduby1zdG9yZSwgbWF4LWFnZT0wJyB9IH1cbiAgICApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ1NlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAsIGhlYWRlcnM6IHsgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tc3RvcmUsIG1heC1hZ2U9MCcgfSB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImR5bmFtaWMiLCJ0b1JhZCIsInYiLCJNYXRoIiwiUEkiLCJoYXZlcnNpbmVNaWxlcyIsImxhdDEiLCJsb24xIiwibGF0MiIsImxvbjIiLCJSIiwiZExhdCIsImRMb24iLCJhIiwic2luIiwiY29zIiwiYyIsImF0YW4yIiwic3FydCIsImdlb2NvZGUiLCJ0ZXh0IiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwic2V0IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRvIiwic2V0VGltZW91dCIsImFib3J0IiwicmVzIiwiZmV0Y2giLCJ0b1N0cmluZyIsImhlYWRlcnMiLCJjYWNoZSIsInNpZ25hbCIsIm5leHQiLCJyZXZhbGlkYXRlIiwiZmluYWxseSIsImNsZWFyVGltZW91dCIsIm9rIiwiZGF0YSIsImpzb24iLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJpdGVtIiwibGF0IiwicGFyc2VGbG9hdCIsImxvbiIsImRpc3BsYXlfbmFtZSIsIm92ZXJwYXNzUmVzdGF1cmFudHMiLCJyYWRpdXNNZXRlcnMiLCJhbWVuaXRpZXMiLCJvcHRzIiwiYW0iLCJqb2luIiwiY3Vpc2luZUluY2x1ZGUiLCJpbmNsdWRlQ3Vpc2luZVJlZ2V4IiwiY3Vpc2luZUV4Y2x1ZGUiLCJleGNsdWRlQ3Vpc2luZVJlZ2V4IiwibmFtZUV4Y2x1ZGUiLCJleGNsdWRlTmFtZVJlZ2V4IiwiZGlldEZpbHRlciIsImRpZXQiLCJjb21tb24iLCJxdWVyeSIsImVuZHBvaW50cyIsImVwIiwibWV0aG9kIiwiYm9keSIsIlVSTFNlYXJjaFBhcmFtcyIsImUiLCJlbGVtZW50cyIsIm91dCIsIm1hcCIsImVsIiwiY2VudGVyIiwidHlwZSIsInRhZ3MiLCJpZCIsIm5hbWUiLCJhZGRyZXNzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImN1aXNpbmUiLCJyIiwiUE9TVCIsInJlcSIsInF1ZXJ5VGV4dCIsImNvb3JkcyIsIm1lYWwiLCJvcmlnaW4iLCJ0cmltIiwiZyIsImVycm9yIiwic3RhdHVzIiwibGFiZWwiLCJsaXN0aW5ncyIsImZpbHRlcmVkIiwibm0iLCJ0ZXN0Iiwid2l0aERpc3RhbmNlIiwibWlsZXMiLCJkaXN0YW5jZSIsInRvRml4ZWQiLCJyZXN0YXVyYW50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/restaurants/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frestaurants%2Froute&page=%2Fapi%2Frestaurants%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frestaurants%2Froute.ts&appDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();