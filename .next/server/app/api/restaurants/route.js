"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/restaurants/route";
exports.ids = ["app/api/restaurants/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frestaurants%2Froute&page=%2Fapi%2Frestaurants%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frestaurants%2Froute.ts&appDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frestaurants%2Froute&page=%2Fapi%2Frestaurants%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frestaurants%2Froute.ts&appDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _media_sym_LUCENT_2T_code_CascadeProjects_windsurf_project_lowdine_src_app_api_restaurants_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/restaurants/route.ts */ \"(rsc)/./src/app/api/restaurants/route.ts\");\n\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst AppRouteRouteModule = next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule;\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/restaurants/route\",\n        pathname: \"/api/restaurants\",\n        filename: \"route\",\n        bundlePath: \"app/api/restaurants/route\"\n    },\n    resolvedPagePath: \"/media/sym/LUCENT-2T/code/CascadeProjects/windsurf-project/lowdine/src/app/api/restaurants/route.ts\",\n    nextConfigOutput,\n    userland: _media_sym_LUCENT_2T_code_CascadeProjects_windsurf_project_lowdine_src_app_api_restaurants_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/restaurants/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZXN0YXVyYW50cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcmVzdGF1cmFudHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZyZXN0YXVyYW50cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZtZWRpYSUyRnN5bSUyRkxVQ0VOVC0yVCUyRmNvZGUlMkZDYXNjYWRlUHJvamVjdHMlMkZ3aW5kc3VyZi1wcm9qZWN0JTJGbG93ZGluZSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGbWVkaWElMkZzeW0lMkZMVUNFTlQtMlQlMkZjb2RlJTJGQ2FzY2FkZVByb2plY3RzJTJGd2luZHN1cmYtcHJvamVjdCUyRmxvd2RpbmUmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDaEQ7QUFDMEY7QUFDM0I7QUFDL0Q7QUFDZ0k7QUFDaEksNEJBQTRCLGdIQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sb3dkaW5lLz9lNjg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIm5leHQvZGlzdC9zZXJ2ZXIvbm9kZS1wb2x5ZmlsbC1oZWFkZXJzXCI7XG4vLyBAdHMtaWdub3JlIHRoaXMgbmVlZCB0byBiZSBpbXBvcnRlZCBmcm9tIG5leHQvZGlzdCB0byBiZSBleHRlcm5hbFxuaW1wb3J0ICogYXMgbW9kdWxlIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gcmVwbGFjZWQgYnkgd2VicGFjay90dXJib3BhY2sgbG9hZGVyXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL21lZGlhL3N5bS9MVUNFTlQtMlQvY29kZS9DYXNjYWRlUHJvamVjdHMvd2luZHN1cmYtcHJvamVjdC9sb3dkaW5lL3NyYy9hcHAvYXBpL3Jlc3RhdXJhbnRzL3JvdXRlLnRzXCI7XG5jb25zdCBBcHBSb3V0ZVJvdXRlTW9kdWxlID0gbW9kdWxlLkFwcFJvdXRlUm91dGVNb2R1bGU7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9yZXN0YXVyYW50cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Jlc3RhdXJhbnRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yZXN0YXVyYW50cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9tZWRpYS9zeW0vTFVDRU5ULTJUL2NvZGUvQ2FzY2FkZVByb2plY3RzL3dpbmRzdXJmLXByb2plY3QvbG93ZGluZS9zcmMvYXBwL2FwaS9yZXN0YXVyYW50cy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9yZXN0YXVyYW50cy9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frestaurants%2Froute&page=%2Fapi%2Frestaurants%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frestaurants%2Froute.ts&appDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/restaurants/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/restaurants/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\nconst dynamic = \"force-dynamic\";\nfunction toRad(v) {\n    return v * Math.PI / 180;\n}\nfunction haversineMiles(lat1, lon1, lat2, lon2) {\n    const R = 3958.8;\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) ** 2 + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n}\nasync function geocode(text) {\n    const url = new URL(\"https://nominatim.openstreetmap.org/search\");\n    url.searchParams.set(\"q\", text);\n    url.searchParams.set(\"format\", \"json\");\n    url.searchParams.set(\"limit\", \"1\");\n    const controller = new AbortController();\n    const to = setTimeout(()=>controller.abort(), 10000);\n    const res = await fetch(url.toString(), {\n        headers: {\n            \"User-Agent\": \"Lowdine/1.0 (contact: example@example.com)\"\n        },\n        cache: \"no-store\",\n        signal: controller.signal,\n        next: {\n            revalidate: 0\n        }\n    }).finally(()=>clearTimeout(to));\n    if (!res.ok) return null;\n    const data = await res.json();\n    if (!Array.isArray(data) || data.length === 0) return null;\n    const item = data[0];\n    return {\n        lat: parseFloat(item.lat),\n        lon: parseFloat(item.lon),\n        display_name: item.display_name\n    };\n}\nasync function overpassRestaurants(lat, lon, radiusMeters, amenities, opts) {\n    const am = amenities.join(\"|\");\n    const cuisineExclude = opts?.excludeCuisineRegex ? ` [\"cuisine\"!~\"(${opts.excludeCuisineRegex})\", i]` : \"\";\n    const nameExclude = opts?.excludeNameRegex ? ` [\"name\"!~\"(${opts.excludeNameRegex})\", i]` : \"\";\n    const dietFilter = opts?.diet === \"vegan\" ? ` [\"diet:vegan\"=\"yes\"]` : opts?.diet === \"vegetarian\" ? ` [\"diet:vegetarian\"=\"yes\"]` : \"\";\n    const common = `[\"amenity\"~\"^(${am})$\"]${cuisineExclude}${nameExclude}${dietFilter}`;\n    const query = `\n    [out:json][timeout:30];\n    (\n      node${common}(around:${radiusMeters},${lat},${lon});\n      way${common}(around:${radiusMeters},${lat},${lon});\n      relation${common}(around:${radiusMeters},${lat},${lon});\n    );\n    out center tags 80;\n  `;\n    const endpoints = [\n        \"https://overpass-api.de/api/interpreter\",\n        \"https://overpass.kumi.systems/api/interpreter\",\n        \"https://overpass.openstreetmap.ru/api/interpreter\"\n    ];\n    let data = null;\n    for (const ep of endpoints){\n        try {\n            const controller = new AbortController();\n            const to = setTimeout(()=>controller.abort(), 12000);\n            const res = await fetch(ep, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\n                    \"User-Agent\": \"Lowdine/1.0 (contact: example@example.com)\"\n                },\n                body: new URLSearchParams({\n                    data: query\n                }).toString(),\n                cache: \"no-store\",\n                signal: controller.signal,\n                next: {\n                    revalidate: 0\n                }\n            }).finally(()=>clearTimeout(to));\n            if (!res.ok) continue;\n            data = await res.json();\n            break;\n        } catch (e) {\n        // try next mirror\n        }\n    }\n    if (!data) return [];\n    if (!data || !Array.isArray(data.elements)) return [];\n    const out = data.elements.map((el)=>{\n        const center = el.type === \"node\" ? {\n            lat: el.lat,\n            lon: el.lon\n        } : el.center || {};\n        const tags = el.tags || {};\n        return {\n            id: el.id,\n            name: tags.name || \"Unnamed Restaurant\",\n            address: [\n                tags[\"addr:housenumber\"],\n                tags[\"addr:street\"],\n                tags[\"addr:city\"]\n            ].filter(Boolean).join(\" \"),\n            cuisine: tags.cuisine || \"Various\",\n            lat: center.lat,\n            lon: center.lon\n        };\n    }).filter((r)=>r.lat && r.lon);\n    return out;\n}\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const { queryText, coords, radiusMeters = 2000, meal = \"dinner\" } = body || {};\n        let origin = null;\n        if (coords && typeof coords.lat === \"number\" && typeof coords.lon === \"number\") {\n            origin = {\n                lat: coords.lat,\n                lon: coords.lon\n            };\n        } else if (typeof queryText === \"string\" && queryText.trim().length > 0) {\n            const g = await geocode(queryText.trim());\n            if (!g) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Location not found\"\n            }, {\n                status: 404\n            });\n            origin = {\n                lat: g.lat,\n                lon: g.lon,\n                label: g.display_name\n            };\n        } else {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing location\"\n            }, {\n                status: 400\n            });\n        }\n        // Decide amenity/filters by meal\n        // dinner/lunch: restaurants, fast_food, pub\n        // snack: cafes, bakeries, ice_cream\n        // coffee: cafe, coffee_shop\n        // breakfast: restaurant, cafe, fast_food\n        // dessert: ice_cream, cafe, bakery\n        // drinks: bar, pub, biergarten\n        // pizza: restaurant, fast_food with cuisine=pizza\n        // vegan/vegetarian: restaurant, cafe with diet tag\n        let amenities = [\n            \"restaurant\",\n            \"fast_food\",\n            \"pub\"\n        ];\n        let opts;\n        switch(meal){\n            case \"snack\":\n                amenities = [\n                    \"cafe\",\n                    \"bakery\",\n                    \"ice_cream\"\n                ];\n                break;\n            case \"coffee\":\n                amenities = [\n                    \"cafe\",\n                    \"coffee_shop\"\n                ];\n                break;\n            case \"breakfast\":\n                amenities = [\n                    \"restaurant\",\n                    \"cafe\",\n                    \"fast_food\"\n                ];\n                opts = {\n                    excludeCuisineRegex: \"pizza\",\n                    excludeNameRegex: \"Domino\"\n                };\n                break;\n            case \"dessert\":\n                amenities = [\n                    \"ice_cream\",\n                    \"cafe\",\n                    \"bakery\"\n                ];\n                break;\n            case \"drinks\":\n                amenities = [\n                    \"bar\",\n                    \"pub\",\n                    \"biergarten\"\n                ];\n                break;\n            case \"pizza\":\n                amenities = [\n                    \"restaurant\",\n                    \"fast_food\"\n                ];\n                opts = {\n                    cuisineRegex: \"pizza\"\n                };\n                break;\n            case \"vegan\":\n                amenities = [\n                    \"restaurant\",\n                    \"cafe\"\n                ];\n                opts = {\n                    diet: \"vegan\"\n                };\n                break;\n            case \"vegetarian\":\n                amenities = [\n                    \"restaurant\",\n                    \"cafe\"\n                ];\n                opts = {\n                    diet: \"vegetarian\"\n                };\n                break;\n            case \"dinner\":\n            case \"lunch\":\n            default:\n                amenities = [\n                    \"restaurant\",\n                    \"fast_food\",\n                    \"pub\"\n                ];\n                break;\n        }\n        const listings = await overpassRestaurants(origin.lat, origin.lon, radiusMeters, amenities, opts);\n        const filtered = listings.filter((r)=>{\n            const nm = (r.name || \"\").trim();\n            if (!nm) return false;\n            if (/^unnamed/i.test(nm)) return false;\n            return true;\n        });\n        const withDistance = filtered.map((r)=>{\n            const miles = haversineMiles(origin.lat, origin.lon, r.lat, r.lon);\n            return {\n                id: r.id,\n                name: r.name,\n                address: r.address || \"Nearby\",\n                cuisine: r.cuisine,\n                distance: `${miles.toFixed(1)} miles`,\n                lat: r.lat,\n                lon: r.lon\n            };\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            origin,\n            restaurants: withDistance\n        }, {\n            headers: {\n                \"Cache-Control\": \"no-store, max-age=0\"\n            }\n        });\n    } catch (e) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Server error\"\n        }, {\n            status: 500,\n            headers: {\n                \"Cache-Control\": \"no-store, max-age=0\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9yZXN0YXVyYW50cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7QUFDakQsTUFBTUMsVUFBVSxnQkFBZ0I7QUFFdkMsU0FBU0MsTUFBTUMsQ0FBUztJQUN0QixPQUFPLElBQUtDLEtBQUtDLEVBQUUsR0FBSTtBQUN6QjtBQUVBLFNBQVNDLGVBQWVDLElBQVksRUFBRUMsSUFBWSxFQUFFQyxJQUFZLEVBQUVDLElBQVk7SUFDNUUsTUFBTUMsSUFBSTtJQUNWLE1BQU1DLE9BQU9WLE1BQU1PLE9BQU9GO0lBQzFCLE1BQU1NLE9BQU9YLE1BQU1RLE9BQU9GO0lBQzFCLE1BQU1NLElBQUlWLEtBQUtXLEdBQUcsQ0FBQ0gsT0FBTyxNQUFNLElBQUlSLEtBQUtZLEdBQUcsQ0FBQ2QsTUFBTUssU0FBU0gsS0FBS1ksR0FBRyxDQUFDZCxNQUFNTyxTQUFTTCxLQUFLVyxHQUFHLENBQUNGLE9BQU8sTUFBTTtJQUMxRyxNQUFNSSxJQUFJLElBQUliLEtBQUtjLEtBQUssQ0FBQ2QsS0FBS2UsSUFBSSxDQUFDTCxJQUFJVixLQUFLZSxJQUFJLENBQUMsSUFBSUw7SUFDckQsT0FBT0gsSUFBSU07QUFDYjtBQUVBLGVBQWVHLFFBQVFDLElBQVk7SUFDakMsTUFBTUMsTUFBTSxJQUFJQyxJQUFJO0lBQ3BCRCxJQUFJRSxZQUFZLENBQUNDLEdBQUcsQ0FBQyxLQUFLSjtJQUMxQkMsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsVUFBVTtJQUMvQkgsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsU0FBUztJQUU5QixNQUFNQyxhQUFhLElBQUlDO0lBQ3ZCLE1BQU1DLEtBQUtDLFdBQVcsSUFBTUgsV0FBV0ksS0FBSyxJQUFJO0lBQ2hELE1BQU1DLE1BQU0sTUFBTUMsTUFBTVYsSUFBSVcsUUFBUSxJQUFJO1FBQ3RDQyxTQUFTO1lBQ1AsY0FBYztRQUNoQjtRQUNBQyxPQUFPO1FBQ1BDLFFBQVFWLFdBQVdVLE1BQU07UUFDekJDLE1B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QUFJLENBQ3RCO1lBQUVtRCxPQUFPO1FBQWUsR0FDeEI7WUFBRUMsUUFBUTtZQUFLN0QsU0FBUztnQkFBRSxpQkFBaUI7WUFBc0I7UUFBRTtJQUV2RTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbG93ZGluZS8uL3NyYy9hcHAvYXBpL3Jlc3RhdXJhbnRzL3JvdXRlLnRzP2NkYjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnO1xuXG5mdW5jdGlvbiB0b1JhZCh2OiBudW1iZXIpIHtcbiAgcmV0dXJuICh2ICogTWF0aC5QSSkgLyAxODA7XG59XG5cbmZ1bmN0aW9uIGhhdmVyc2luZU1pbGVzKGxhdDE6IG51bWJlciwgbG9uMTogbnVtYmVyLCBsYXQyOiBudW1iZXIsIGxvbjI6IG51bWJlcikge1xuICBjb25zdCBSID0gMzk1OC44O1xuICBjb25zdCBkTGF0ID0gdG9SYWQobGF0MiAtIGxhdDEpO1xuICBjb25zdCBkTG9uID0gdG9SYWQobG9uMiAtIGxvbjEpO1xuICBjb25zdCBhID0gTWF0aC5zaW4oZExhdCAvIDIpICoqIDIgKyBNYXRoLmNvcyh0b1JhZChsYXQxKSkgKiBNYXRoLmNvcyh0b1JhZChsYXQyKSkgKiBNYXRoLnNpbihkTG9uIC8gMikgKiogMjtcbiAgY29uc3QgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XG4gIHJldHVybiBSICogYztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2VvY29kZSh0ZXh0OiBzdHJpbmcpIHtcbiAgY29uc3QgdXJsID0gbmV3IFVSTCgnaHR0cHM6Ly9ub21pbmF0aW0ub3BlbnN0cmVldG1hcC5vcmcvc2VhcmNoJyk7XG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdxJywgdGV4dCk7XG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdmb3JtYXQnLCAnanNvbicpO1xuICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnbGltaXQnLCAnMScpO1xuXG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGNvbnN0IHRvID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIDEwMDAwKTtcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLnRvU3RyaW5nKCksIHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnVXNlci1BZ2VudCc6ICdMb3dkaW5lLzEuMCAoY29udGFjdDogZXhhbXBsZUBleGFtcGxlLmNvbSknXG4gICAgfSxcbiAgICBjYWNoZTogJ25vLXN0b3JlJyxcbiAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgIG5leHQ6IHsgcmV2YWxpZGF0ZTogMCB9LFxuICB9KS5maW5hbGx5KCgpID0+IGNsZWFyVGltZW91dCh0bykpO1xuICBpZiAoIXJlcy5vaykgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkgfHwgZGF0YS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICBjb25zdCBpdGVtID0gZGF0YVswXTtcbiAgcmV0dXJuIHsgbGF0OiBwYXJzZUZsb2F0KGl0ZW0ubGF0KSwgbG9uOiBwYXJzZUZsb2F0KGl0ZW0ubG9uKSwgZGlzcGxheV9uYW1lOiBpdGVtLmRpc3BsYXlfbmFtZSBhcyBzdHJpbmcgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gb3ZlcnBhc3NSZXN0YXVyYW50cyhcbiAgbGF0OiBudW1iZXIsXG4gIGxvbjogbnVtYmVyLFxuICByYWRpdXNNZXRlcnM6IG51bWJlcixcbiAgYW1lbml0aWVzOiBzdHJpbmdbXSxcbiAgb3B0cz86IHsgZXhjbHVkZUN1aXNpbmVSZWdleD86IHN0cmluZzsgZXhjbHVkZU5hbWVSZWdleD86IHN0cmluZzsgZGlldD86ICd2ZWdhbicgfCAndmVnZXRhcmlhbicgfVxuKSB7XG4gIGNvbnN0IGFtID0gYW1lbml0aWVzLmpvaW4oJ3wnKTtcbiAgY29uc3QgY3Vpc2luZUV4Y2x1ZGUgPSBvcHRzPy5leGNsdWRlQ3Vpc2luZVJlZ2V4ID8gYCBbXCJjdWlzaW5lXCIhflwiKCR7b3B0cy5leGNsdWRlQ3Vpc2luZVJlZ2V4fSlcIiwgaV1gIDogJyc7XG4gIGNvbnN0IG5hbWVFeGNsdWRlID0gb3B0cz8uZXhjbHVkZU5hbWVSZWdleCA/IGAgW1wibmFtZVwiIX5cIigke29wdHMuZXhjbHVkZU5hbWVSZWdleH0pXCIsIGldYCA6ICcnO1xuICBjb25zdCBkaWV0RmlsdGVyID0gb3B0cz8uZGlldCA9PT0gJ3ZlZ2FuJ1xuICAgID8gYCBbXCJkaWV0OnZlZ2FuXCI9XCJ5ZXNcIl1gXG4gICAgOiBvcHRzPy5kaWV0ID09PSAndmVnZXRhcmlhbidcbiAgICA/IGAgW1wiZGlldDp2ZWdldGFyaWFuXCI9XCJ5ZXNcIl1gXG4gICAgOiAnJztcbiAgY29uc3QgY29tbW9uID0gYFtcImFtZW5pdHlcIn5cIl4oJHthbX0pJFwiXSR7Y3Vpc2luZUV4Y2x1ZGV9JHtuYW1lRXhjbHVkZX0ke2RpZXRGaWx0ZXJ9YDtcbiAgY29uc3QgcXVlcnkgPSBgXG4gICAgW291dDpqc29uXVt0aW1lb3V0OjMwXTtcbiAgICAoXG4gICAgICBub2RlJHtjb21tb259KGFyb3VuZDoke3JhZGl1c01ldGVyc30sJHtsYXR9LCR7bG9ufSk7XG4gICAgICB3YXkke2NvbW1vbn0oYXJvdW5kOiR7cmFkaXVzTWV0ZXJzfSwke2xhdH0sJHtsb259KTtcbiAgICAgIHJlbGF0aW9uJHtjb21tb259KGFyb3VuZDoke3JhZGl1c01ldGVyc30sJHtsYXR9LCR7bG9ufSk7XG4gICAgKTtcbiAgICBvdXQgY2VudGVyIHRhZ3MgODA7XG4gIGA7XG4gIGNvbnN0IGVuZHBvaW50cyA9IFtcbiAgICAnaHR0cHM6Ly9vdmVycGFzcy1hcGkuZGUvYXBpL2ludGVycHJldGVyJyxcbiAgICAnaHR0cHM6Ly9vdmVycGFzcy5rdW1pLnN5c3RlbXMvYXBpL2ludGVycHJldGVyJyxcbiAgICAnaHR0cHM6Ly9vdmVycGFzcy5vcGVuc3RyZWV0bWFwLnJ1L2FwaS9pbnRlcnByZXRlcidcbiAgXTtcbiAgbGV0IGRhdGE6IGFueSA9IG51bGw7XG4gIGZvciAoY29uc3QgZXAgb2YgZW5kcG9pbnRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBjb25zdCB0byA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCAxMjAwMCk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChlcCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICAnVXNlci1BZ2VudCc6ICdMb3dkaW5lLzEuMCAoY29udGFjdDogZXhhbXBsZUBleGFtcGxlLmNvbSknXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBkYXRhOiBxdWVyeSB9KS50b1N0cmluZygpLFxuICAgICAgICBjYWNoZTogJ25vLXN0b3JlJyxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgbmV4dDogeyByZXZhbGlkYXRlOiAwIH0sXG4gICAgICB9KS5maW5hbGx5KCgpID0+IGNsZWFyVGltZW91dCh0bykpO1xuICAgICAgaWYgKCFyZXMub2spIGNvbnRpbnVlO1xuICAgICAgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBicmVhaztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyB0cnkgbmV4dCBtaXJyb3JcbiAgICB9XG4gIH1cbiAgaWYgKCFkYXRhKSByZXR1cm4gW107XG4gIGlmICghZGF0YSB8fCAhQXJyYXkuaXNBcnJheShkYXRhLmVsZW1lbnRzKSkgcmV0dXJuIFtdO1xuICBjb25zdCBvdXQgPSBkYXRhLmVsZW1lbnRzLm1hcCgoZWw6IGFueSkgPT4ge1xuICAgIGNvbnN0IGNlbnRlciA9IGVsLnR5cGUgPT09ICdub2RlJyA/IHsgbGF0OiBlbC5sYXQsIGxvbjogZWwubG9uIH0gOiAoZWwuY2VudGVyIHx8IHt9KTtcbiAgICBjb25zdCB0YWdzID0gZWwudGFncyB8fCB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGVsLmlkLFxuICAgICAgbmFtZTogdGFncy5uYW1lIHx8ICdVbm5hbWVkIFJlc3RhdXJhbnQnLFxuICAgICAgYWRkcmVzczogW3RhZ3NbJ2FkZHI6aG91c2VudW1iZXInXSwgdGFnc1snYWRkcjpzdHJlZXQnXSwgdGFnc1snYWRkcjpjaXR5J11dLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyksXG4gICAgICBjdWlzaW5lOiB0YWdzLmN1aXNpbmUgfHwgJ1ZhcmlvdXMnLFxuICAgICAgbGF0OiBjZW50ZXIubGF0LFxuICAgICAgbG9uOiBjZW50ZXIubG9uLFxuICAgIH07XG4gIH0pLmZpbHRlcigocjogYW55KSA9PiByLmxhdCAmJiByLmxvbik7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICBjb25zdCB7IHF1ZXJ5VGV4dCwgY29vcmRzLCByYWRpdXNNZXRlcnMgPSAyMDAwLCBtZWFsID0gJ2Rpbm5lcicgfSA9IGJvZHkgfHwge307XG5cbiAgICBsZXQgb3JpZ2luOiB7IGxhdDogbnVtYmVyOyBsb246IG51bWJlcjsgbGFiZWw/OiBzdHJpbmcgfSB8IG51bGwgPSBudWxsO1xuXG4gICAgaWYgKGNvb3JkcyAmJiB0eXBlb2YgY29vcmRzLmxhdCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvb3Jkcy5sb24gPT09ICdudW1iZXInKSB7XG4gICAgICBvcmlnaW4gPSB7IGxhdDogY29vcmRzLmxhdCwgbG9uOiBjb29yZHMubG9uIH07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnlUZXh0ID09PSAnc3RyaW5nJyAmJiBxdWVyeVRleHQudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGcgPSBhd2FpdCBnZW9jb2RlKHF1ZXJ5VGV4dC50cmltKCkpO1xuICAgICAgaWYgKCFnKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0xvY2F0aW9uIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICAgIG9yaWdpbiA9IHsgbGF0OiBnLmxhdCwgbG9uOiBnLmxvbiwgbGFiZWw6IGcuZGlzcGxheV9uYW1lIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyBsb2NhdGlvbicgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBEZWNpZGUgYW1lbml0eS9maWx0ZXJzIGJ5IG1lYWxcbiAgICAvLyBkaW5uZXIvbHVuY2g6IHJlc3RhdXJhbnRzLCBmYXN0X2Zvb2QsIHB1YlxuICAgIC8vIHNuYWNrOiBjYWZlcywgYmFrZXJpZXMsIGljZV9jcmVhbVxuICAgIC8vIGNvZmZlZTogY2FmZSwgY29mZmVlX3Nob3BcbiAgICAvLyBicmVha2Zhc3Q6IHJlc3RhdXJhbnQsIGNhZmUsIGZhc3RfZm9vZFxuICAgIC8vIGRlc3NlcnQ6IGljZV9jcmVhbSwgY2FmZSwgYmFrZXJ5XG4gICAgLy8gZHJpbmtzOiBiYXIsIHB1YiwgYmllcmdhcnRlblxuICAgIC8vIHBpenphOiByZXN0YXVyYW50LCBmYXN0X2Zvb2Qgd2l0aCBjdWlzaW5lPXBpenphXG4gICAgLy8gdmVnYW4vdmVnZXRhcmlhbjogcmVzdGF1cmFudCwgY2FmZSB3aXRoIGRpZXQgdGFnXG4gICAgbGV0IGFtZW5pdGllczogc3RyaW5nW10gPSBbJ3Jlc3RhdXJhbnQnLCAnZmFzdF9mb29kJywgJ3B1YiddO1xuICAgIGxldCBvcHRzOiB7IGV4Y2x1ZGVDdWlzaW5lUmVnZXg/OiBzdHJpbmc7IGV4Y2x1ZGVOYW1lUmVnZXg/OiBzdHJpbmc7IGRpZXQ/OiAndmVnYW4nIHwgJ3ZlZ2V0YXJpYW4nIH0gfCB1bmRlZmluZWQ7XG4gICAgc3dpdGNoIChtZWFsKSB7XG4gICAgICBjYXNlICdzbmFjayc6XG4gICAgICAgIGFtZW5pdGllcyA9IFsnY2FmZScsICdiYWtlcnknLCAnaWNlX2NyZWFtJ107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY29mZmVlJzpcbiAgICAgICAgYW1lbml0aWVzID0gWydjYWZlJywgJ2NvZmZlZV9zaG9wJ107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYnJlYWtmYXN0JzpcbiAgICAgICAgYW1lbml0aWVzID0gWydyZXN0YXVyYW50JywgJ2NhZmUnLCAnZmFzdF9mb29kJ107XG4gICAgICAgIG9wdHMgPSB7IGV4Y2x1ZGVDdWlzaW5lUmVnZXg6ICdwaXp6YScsIGV4Y2x1ZGVOYW1lUmVnZXg6ICdEb21pbm8nIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGVzc2VydCc6XG4gICAgICAgIGFtZW5pdGllcyA9IFsnaWNlX2NyZWFtJywgJ2NhZmUnLCAnYmFrZXJ5J107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZHJpbmtzJzpcbiAgICAgICAgYW1lbml0aWVzID0gWydiYXInLCAncHViJywgJ2JpZXJnYXJ0ZW4nXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwaXp6YSc6XG4gICAgICAgIGFtZW5pdGllcyA9IFsncmVzdGF1cmFudCcsICdmYXN0X2Zvb2QnXTtcbiAgICAgICAgb3B0cyA9IHsgY3Vpc2luZVJlZ2V4OiAncGl6emEnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmVnYW4nOlxuICAgICAgICBhbWVuaXRpZXMgPSBbJ3Jlc3RhdXJhbnQnLCAnY2FmZSddO1xuICAgICAgICBvcHRzID0geyBkaWV0OiAndmVnYW4nIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmVnZXRhcmlhbic6XG4gICAgICAgIGFtZW5pdGllcyA9IFsncmVzdGF1cmFudCcsICdjYWZlJ107XG4gICAgICAgIG9wdHMgPSB7IGRpZXQ6ICd2ZWdldGFyaWFuJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Rpbm5lcic6XG4gICAgICBjYXNlICdsdW5jaCc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhbWVuaXRpZXMgPSBbJ3Jlc3RhdXJhbnQnLCAnZmFzdF9mb29kJywgJ3B1YiddO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0aW5ncyA9IGF3YWl0IG92ZXJwYXNzUmVzdGF1cmFudHMob3JpZ2luLmxhdCwgb3JpZ2luLmxvbiwgcmFkaXVzTWV0ZXJzLCBhbWVuaXRpZXMsIG9wdHMpO1xuICAgIGNvbnN0IGZpbHRlcmVkID0gbGlzdGluZ3MuZmlsdGVyKChyOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG5tID0gKHIubmFtZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCFubSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKC9edW5uYW1lZC9pLnRlc3Qobm0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBjb25zdCB3aXRoRGlzdGFuY2UgPSBmaWx0ZXJlZC5tYXAoKHI6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbWlsZXMgPSBoYXZlcnNpbmVNaWxlcyhvcmlnaW4hLmxhdCwgb3JpZ2luIS5sb24sIHIubGF0LCByLmxvbik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogci5pZCxcbiAgICAgICAgbmFtZTogci5uYW1lLFxuICAgICAgICBhZGRyZXNzOiByLmFkZHJlc3MgfHwgJ05lYXJieScsXG4gICAgICAgIGN1aXNpbmU6IHIuY3Vpc2luZSxcbiAgICAgICAgZGlzdGFuY2U6IGAke21pbGVzLnRvRml4ZWQoMSl9IG1pbGVzYCxcbiAgICAgICAgbGF0OiByLmxhdCxcbiAgICAgICAgbG9uOiByLmxvbixcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IG9yaWdpbiwgcmVzdGF1cmFudHM6IHdpdGhEaXN0YW5jZSB9LFxuICAgICAgeyBoZWFkZXJzOiB7ICdDYWNoZS1Db250cm9sJzogJ25vLXN0b3JlLCBtYXgtYWdlPTAnIH0gfVxuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnU2VydmVyIGVycm9yJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCwgaGVhZGVyczogeyAnQ2FjaGUtQ29udHJvbCc6ICduby1zdG9yZSwgbWF4LWFnZT0wJyB9IH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZHluYW1pYyIsInRvUmFkIiwidiIsIk1hdGgiLCJQSSIsImhhdmVyc2luZU1pbGVzIiwibGF0MSIsImxvbjEiLCJsYXQyIiwibG9uMiIsIlIiLCJkTGF0IiwiZExvbiIsImEiLCJzaW4iLCJjb3MiLCJjIiwiYXRhbjIiLCJzcXJ0IiwiZ2VvY29kZSIsInRleHQiLCJ1cmwiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidG8iLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJyZXMiLCJmZXRjaCIsInRvU3RyaW5nIiwiaGVhZGVycyIsImNhY2hlIiwic2lnbmFsIiwibmV4dCIsInJldmFsaWRhdGUiLCJmaW5hbGx5IiwiY2xlYXJUaW1lb3V0Iiwib2siLCJkYXRhIiwianNvbiIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsIml0ZW0iLCJsYXQiLCJwYXJzZUZsb2F0IiwibG9uIiwiZGlzcGxheV9uYW1lIiwib3ZlcnBhc3NSZXN0YXVyYW50cyIsInJhZGl1c01ldGVycyIsImFtZW5pdGllcyIsIm9wdHMiLCJhbSIsImpvaW4iLCJjdWlzaW5lRXhjbHVkZSIsImV4Y2x1ZGVDdWlzaW5lUmVnZXgiLCJuYW1lRXhjbHVkZSIsImV4Y2x1ZGVOYW1lUmVnZXgiLCJkaWV0RmlsdGVyIiwiZGlldCIsImNvbW1vbiIsInF1ZXJ5IiwiZW5kcG9pbnRzIiwiZXAiLCJtZXRob2QiLCJib2R5IiwiVVJMU2VhcmNoUGFyYW1zIiwiZSIsImVsZW1lbnRzIiwib3V0IiwibWFwIiwiZWwiLCJjZW50ZXIiLCJ0eXBlIiwidGFncyIsImlkIiwibmFtZSIsImFkZHJlc3MiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY3Vpc2luZSIsInIiLCJQT1NUIiwicmVxIiwicXVlcnlUZXh0IiwiY29vcmRzIiwibWVhbCIsIm9yaWdpbiIsInRyaW0iLCJnIiwiZXJyb3IiLCJzdGF0dXMiLCJsYWJlbCIsImN1aXNpbmVSZWdleCIsImxpc3RpbmdzIiwiZmlsdGVyZWQiLCJubSIsInRlc3QiLCJ3aXRoRGlzdGFuY2UiLCJtaWxlcyIsImRpc3RhbmNlIiwidG9GaXhlZCIsInJlc3RhdXJhbnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/restaurants/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frestaurants%2Froute&page=%2Fapi%2Frestaurants%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frestaurants%2Froute.ts&appDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fsym%2FLUCENT-2T%2Fcode%2FCascadeProjects%2Fwindsurf-project%2Flowdine&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();